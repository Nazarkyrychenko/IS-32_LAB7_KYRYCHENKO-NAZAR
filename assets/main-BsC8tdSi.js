import"./modulepreload-polyfill-B5Qt9EMX.js";const x="lab8-cart",E=3,C=[{id:1,title:"Book A"},{id:2,title:"Book B"},{id:3,title:"Book C"},{id:4,title:"Book D"},{id:5,title:"Book E"},{id:6,title:"Book F"}],M=document.getElementById("products"),$=document.getElementById("cartList"),I=document.getElementById("prevPage"),S=document.getElementById("nextPage"),D=document.getElementById("pageInfo"),k=document.getElementById("clearCart");let d=1;function N(){try{return JSON.parse(localStorage.getItem(x))||[]}catch{return[]}}function O(e){localStorage.setItem(x,JSON.stringify(e))}function A(){M.innerHTML=C.map(e=>`
      <article class="news-item">
        <h3>${e.title}</h3>
        <button type="button" data-add="${e.id}">Add to cart</button>
      </article>
    `).join("")}function b(){const e=N(),a=Math.max(1,Math.ceil(e.length/E));d=Math.min(d,a);const c=(d-1)*E,u=e.slice(c,c+E);$.innerHTML=u.length?u.map(o=>`<li>${o.title}</li>`).join(""):"<li>Cart is empty</li>",D.textContent=`${d}/${a}`,I.disabled=d<=1,S.disabled=d>=a,k.disabled=e.length===0}M.addEventListener("click",e=>{const a=e.target.closest("[data-add]");if(!a)return;const c=Number(a.dataset.add),u=C.find(f=>f.id===c);if(!u)return;const o=N();o.push(u),O(o),b()});I.addEventListener("click",()=>{d--,b()});S.addEventListener("click",()=>{d++,b()});k.addEventListener("click",()=>{localStorage.removeItem(x),d=1,b()});A();b();function y(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var L={exports:{}},B;function j(){return B||(B=1,(function(e,a){(function(c){e.exports=c()})((function(){return(function c(u,o,f){function p(n,i){if(!o[n]){if(!u[n]){var g=typeof y=="function"&&y;if(!i&&g)return g(n,!0);if(h)return h(n,!0);var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}var t=o[n]={exports:{}};u[n][0].call(t.exports,(function(s){return p(u[n][1][s]||s)}),t,t.exports,c,u,o,f)}return o[n].exports}for(var h=typeof y=="function"&&y,r=0;r<f.length;r++)p(f[r]);return p})({1:[function(c,u,o){Object.defineProperty(o,"__esModule",{value:!0}),o.create=o.visible=void 0;var f=function(r){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=document.createElement("div");return i.innerHTML=r.trim(),n===!0?i.children:i.firstChild},p=function(r,n){var i=r.children;return i.length===1&&i[0].tagName===n},h=function(r){return(r=r||document.querySelector(".basicLightbox"))!=null&&r.ownerDocument.body.contains(r)===!0};o.visible=h,o.create=function(r,n){var i=(function(t,s){var l=f(`
		<div class="basicLightbox `.concat(s.className,`">
			<div class="basicLightbox__placeholder" role="dialog"></div>
		</div>
	`)),v=l.querySelector(".basicLightbox__placeholder");t.forEach((function(T){return v.appendChild(T)}));var _=p(v,"IMG"),P=p(v,"VIDEO"),q=p(v,"IFRAME");return _===!0&&l.classList.add("basicLightbox--img"),P===!0&&l.classList.add("basicLightbox--video"),q===!0&&l.classList.add("basicLightbox--iframe"),l})(r=(function(t){var s=typeof t=="string",l=t instanceof HTMLElement==1;if(s===!1&&l===!1)throw new Error("Content must be a DOM element/node or string");return s===!0?Array.from(f(t,!0)):t.tagName==="TEMPLATE"?[t.content.cloneNode(!0)]:Array.from(t.children)})(r),n=(function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if((t=Object.assign({},t)).closable==null&&(t.closable=!0),t.className==null&&(t.className=""),t.onShow==null&&(t.onShow=function(){}),t.onClose==null&&(t.onClose=function(){}),typeof t.closable!="boolean")throw new Error("Property `closable` must be a boolean");if(typeof t.className!="string")throw new Error("Property `className` must be a string");if(typeof t.onShow!="function")throw new Error("Property `onShow` must be a function");if(typeof t.onClose!="function")throw new Error("Property `onClose` must be a function");return t})(n)),g=function(t){return n.onClose(m)!==!1&&(function(s,l){return s.classList.remove("basicLightbox--visible"),setTimeout((function(){return h(s)===!1||s.parentElement.removeChild(s),l()}),410),!0})(i,(function(){if(typeof t=="function")return t(m)}))};n.closable===!0&&i.addEventListener("click",(function(t){t.target===i&&g()}));var m={element:function(){return i},visible:function(){return h(i)},show:function(t){return n.onShow(m)!==!1&&(function(s,l){return document.body.appendChild(s),setTimeout((function(){requestAnimationFrame((function(){return s.classList.add("basicLightbox--visible"),l()}))}),10),!0})(i,(function(){if(typeof t=="function")return t(m)}))},close:g};return m}},{}]},{},[1])(1)}))})(L)),L.exports}var R=j();const F=[{preview:"https://picsum.photos/id/1015/500/320",original:"https://picsum.photos/id/1015/1200/800",description:"Mountains"},{preview:"https://picsum.photos/id/1025/500/320",original:"https://picsum.photos/id/1025/1200/800",description:"Dog"},{preview:"https://picsum.photos/id/1035/500/320",original:"https://picsum.photos/id/1035/1200/800",description:"Forest"},{preview:"https://picsum.photos/id/1043/500/320",original:"https://picsum.photos/id/1043/1200/800",description:"Sea"}],w=document.getElementById("gallery");w.innerHTML=F.map(({preview:e,original:a,description:c})=>`
    <li>
      <a href="${a}">
        <img src="${e}" alt="${c}" loading="lazy">
      </a>
    </li>
  `).join("");w.addEventListener("click",e=>{const a=e.target.closest("a");if(!a||!w.contains(a))return;e.preventDefault();const c=a.querySelector("img")?.alt||"";R.create(`<img src="${a.href}" alt="${c}">`).show()});
